<h3 style="margin: 0 40px">Commentaires</h3>
<div class="comment-container">
  <mat-grid-list cols="1" rowHeight="fit">
    <mat-card
      class="mat-elevation-z4"
      *ngFor="let comment of comments$ | async"
      class="comment-card"
    >
      <mat-card-content class="content">
        {{ comment.content }}
      </mat-card-content>
      <mat-card-footer>
        <mat-card-subtitle>
          <b>
            <i>
              {{ comment.user.username | titlecase }},
              {{ comment.createdDate | timeAgo }}
            </i>
          </b>
        </mat-card-subtitle>
      </mat-card-footer>
    </mat-card>
  </mat-grid-list>
</div>
<div class="comment-form">
  <form [formGroup]="form" (submit)="submit()">
    <mat-form-field appearance="outline" class="comment-input">
      <mat-label>Ecrivez ici votre commentaire</mat-label>
      <textarea
        matInput
        type="text"
        placeholder="content"
        formControlName="content"
      ></textarea>
      <mat-error>Nombre de caractères min: 5 et max: 255</mat-error>
      <button
        mat-icon-button
        matSuffix
        color="primary"
        type="submit"
        [disabled]="form.invalid"
      >
        <mat-icon class="send-btn">send</mat-icon>
      </button>
    </mat-form-field>
    <p *ngIf="onError" class="error">
      Erreur lors de la création de l'article.
    </p>
  </form>
</div>
